(this["webpackJsonpthe-shoppies"]=this["webpackJsonpthe-shoppies"]||[]).push([[0],{11:function(e,t,n){},18:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var i=n(1),o=n.n(i),s=n(12),a=n.n(s),c=(n(18),n(9)),r=n(7),m=n(13),d=(n(11),n(3)),l=n(4),h=n(2),v=n(6),j=n(5),u=n(0),b=function(e){Object(v.a)(n,e);var t=Object(j.a)(n);function n(e){return Object(d.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"render",value:function(){var e="hide";return this.props.menuVisibility&&(e="show"),Object(u.jsx)("button",{id:"roundButton",className:e,onMouseDown:this.props.handleMouseDown,children:Object(u.jsx)("div",{id:"arrow-left",className:e})})}}]),n}(i.Component),p=function(e){Object(v.a)(n,e);var t=Object(j.a)(n);function n(e){var i;return Object(d.a)(this,n),(i=t.call(this,e)).onRemoved=i.onRemoved.bind(Object(h.a)(i)),i}return Object(l.a)(n,[{key:"onRemoved",value:function(){this.props.onRemoved(this.props.movie)}},{key:"render",value:function(){var e="N/A"===this.props.movie.Poster?"https://m.media-amazon.com/images/M/MV5BMTczNTI2ODUwOF5BMl5BanBnXkFtZTcwMTU0NTIzMw@@._V1_SX300.jpg":this.props.movie.Poster,t="https://www.imdb.com/title/"+this.props.movie.imdbID;return Object(u.jsxs)("div",{className:"movie",children:[Object(u.jsx)("div",{className:"nominated-movie-image",children:Object(u.jsx)("img",{height:"75%",alt:"The movie titled: ".concat(this.props.movie.Title),src:e})}),Object(u.jsxs)("div",{className:"nominated-movie-title-div",children:[Object(u.jsx)("button",{className:"remove-nomination-button",onClick:this.onRemoved,children:"x"}),Object(u.jsx)("a",{href:t,target:"_blank",className:"nominated-movie-title",children:this.props.movie.Title}),Object(u.jsxs)("div",{className:"nominated-movie-year",children:[" (",this.props.movie.Year,")"]})]})]})}}]),n}(o.a.Component),O=function(e){Object(v.a)(n,e);var t=Object(j.a)(n);function n(e){var i;return Object(d.a)(this,n),(i=t.call(this,e)).onRemoved=i.onRemoved.bind(Object(h.a)(i)),i.state={nominatedMovies:i.props.nominatedMovies},i}return Object(l.a)(n,[{key:"onRemoved",value:function(e){this.props.onRemoved(e)}},{key:"render",value:function(){var e="hide";return this.props.menuVisibility&&(e="show"),Object(u.jsxs)("div",{id:"flyoutMenu",className:e,children:[Object(u.jsx)("div",{className:"nominations-flyout-header",children:"Your Nominations"}),0===this.state.nominatedMovies.length?Object(u.jsx)("span",{children:"No movies nominated."}):this.state.nominatedMovies.map((function(e,t){return Object(u.jsx)(p,{movie:e,onRemoved:this.onRemoved.bind(this,e)},"".concat(t,"-").concat(e.Title))}),this)]})}}]),n}(i.Component),M=function(e){Object(v.a)(n,e);var t=Object(j.a)(n);function n(e){var i;return Object(d.a)(this,n),(i=t.call(this,e)).state={visible:!1,nominatedMovies:i.props.nominatedMovies},i.handleMouseDown=i.handleMouseDown.bind(Object(h.a)(i)),i.toggleMenu=i.toggleMenu.bind(Object(h.a)(i)),i}return Object(l.a)(n,[{key:"handleMouseDown",value:function(e){this.toggleMenu(),e.stopPropagation()}},{key:"toggleMenu",value:function(){this.setState({visible:!this.state.visible})}},{key:"onRemoved",value:function(e){}},{key:"render",value:function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(b,{handleMouseDown:this.handleMouseDown,menuVisibility:this.state.visible}),Object(u.jsx)(O,{menuVisibility:this.state.visible,nominatedMovies:this.state.nominatedMovies,onRemoved:this.props.onRemoved})]})}}]),n}(i.Component),f=function(e){return Object(u.jsxs)("header",{className:"App-header",children:[Object(u.jsx)("div",{className:"header-logo"}),Object(u.jsx)("h2",{children:e.text})]})},x=function(e){return Object(u.jsx)("footer",{className:"App-footer",children:Object(u.jsx)("p",{children:e.text})})},g=function(e){Object(v.a)(n,e);var t=Object(j.a)(n);function n(e){var i;Object(d.a)(this,n),(i=t.call(this,e)).callNominateFunction=i.callNominateFunction.bind(Object(h.a)(i));for(var o=!1,s=0;s<i.props.nominatedMovies.length;s++)i.props.nominatedMovies[s].imdbID==i.props.movie.imdbID&&(o=!0);return i.state={nominated:o,maxNominations:i.props.nominatedMovies.length},i}return Object(l.a)(n,[{key:"callNominateFunction",value:function(e){e.preventDefault();for(var t=-1,n=0;n<this.props.nominatedMovies.length;n++)this.props.nominatedMovies[n].imdbID===this.props.movie.imdbID&&(t=n);if(-1!==t||5!==this.props.nominatedMovies.length){if(-1!==t||5!==this.props.nominatedMovies.length){var i=this.props.onNominated(this.props.movie);this.setState({nominated:!this.state.nominated}),this.setState({maxNominations:i})}}else alert("You've already nominated the maximum (5) amount of movies! \n\nYou can view your currently nominated movies by clicking the arrow on the right of your screen.")}},{key:"render",value:function(){for(var e="https://www.imdb.com/title/"+this.props.movie.imdbID,t=-1,n=0;n<this.props.nominatedMovies.length;n++)this.props.nominatedMovies[n].imdbID===this.props.movie.imdbID&&(t=n);var i=-1!==t;return Object(u.jsxs)("div",{className:"movie-result",children:[Object(u.jsxs)("div",{className:"movie-title-div",children:[Object(u.jsx)("a",{className:"movie-result-title",href:e,target:"_blank",children:this.props.movie.Title}),Object(u.jsxs)("p",{className:"movie-result-year",children:[" (",this.props.movie.Year,")"]})]}),Object(u.jsx)("button",{className:i?"nomination-button-nominated":5===this.props.nominatedMovies.length?"nomination-button-full":"nomination-button",onClick:this.callNominateFunction,children:i?"Nominated":"Nominate"})]})}}]),n}(o.a.Component),N=function(e){Object(v.a)(n,e);var t=Object(j.a)(n);function n(e){var i;return Object(d.a)(this,n),(i=t.call(this,e)).onNominatedChanged=i.onNominatedChanged.bind(Object(h.a)(i)),i.state={movies:i.props.movies,nominatedMovies:i.props.nominatedMovies},i}return Object(l.a)(n,[{key:"onNominatedChanged",value:function(e){var t=this.props.onNominated(e);return this.setState({nominatedMovies:t}),this.setState({movies:this.props.movies}),t}},{key:"render",value:function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)(M,{nominatedMovies:this.state.nominatedMovies,onRemoved:this.onNominatedChanged}),Object(u.jsx)("div",{id:"movie-list",className:"movie-list",children:this.state.movies.map((function(e,t){if("movie"===e.Type)return Object(u.jsx)(g,{movie:e,onNominated:this.onNominatedChanged.bind(this,e),nominatedMovies:this.state.nominatedMovies},"".concat(t,"-").concat(e.Title))}),this)})]})}}]),n}(o.a.Component),y=function(e){var t=Object(i.useState)(""),n=Object(c.a)(t,2),o=n[0],s=n[1];return Object(u.jsxs)("form",{className:"search",children:[Object(u.jsx)("input",{value:o,onChange:function(e){s(e.target.value)},placeholder:"Search for a movie to nominate...",type:"text"}),Object(u.jsxs)("div",{className:"search-button-div",children:[Object(u.jsx)("input",{id:"search-icon",className:"search-icon",onClick:function(t){t.preventDefault(),e.search(o.trim()),s("")},type:"submit",value:""}),Object(u.jsx)("label",{className:"search-icon-label",htmlFor:"search-icon",children:Object(u.jsx)("svg",{class:"svg-icon",viewBox:"0 0 20 20",children:Object(u.jsx)("path",{d:"M18.125,15.804l-4.038-4.037c0.675-1.079,1.012-2.308,1.01-3.534C15.089,4.62,12.199,1.75,8.584,1.75C4.815,1.75,1.982,4.726,2,8.286c0.021,3.577,2.908,6.549,6.578,6.549c1.241,0,2.417-0.347,3.44-0.985l4.032,4.026c0.167,0.166,0.43,0.166,0.596,0l1.479-1.478C18.292,16.234,18.292,15.968,18.125,15.804 M8.578,13.99c-3.198,0-5.716-2.593-5.733-5.71c-0.017-3.084,2.438-5.686,5.74-5.686c3.197,0,5.625,2.493,5.64,5.624C14.242,11.548,11.621,13.99,8.578,13.99 M16.349,16.981l-3.637-3.635c0.131-0.11,0.721-0.695,0.876-0.884l3.642,3.639L16.349,16.981z"})})})]})]})},S={loading:!1,movies:[],nominatedMovies:[],errorMessage:null,initial:!0},C=function(e,t){switch(t.type){case"SEARCH_MOVIES_REQUEST":return Object(r.a)(Object(r.a)({},e),{},{loading:!0,errorMessage:null,initial:!1});case"SEARCH_MOVIES_SUCCESS":return Object(r.a)(Object(r.a)({},e),{},{loading:!1,movies:t.payload,initial:!1});case"SEARCH_MOVIES_FAILURE":return Object(r.a)(Object(r.a)({},e),{},{loading:!1,errorMessage:t.error,initial:!1});default:return e}},w=function(){var e=Object(i.useReducer)(C,S),t=Object(c.a)(e,2),n=t[0],o=t[1],s=new m.a,a=s.get("nominatedMovies");n.nominatedMovies=a||[],Object(i.useEffect)((function(){fetch("").then((function(e){return e.json()})).then((function(e){o({type:"SEARCH_MOVIES_SUCCESS",payload:e.Search})}))}),[]);var r=function(e){o({type:"SEARCH_MOVIES_REQUEST"}),fetch("https://www.omdbapi.com/?s=".concat(e,"&apikey=4a3b711b")).then((function(e){return e.json()})).then((function(e){"True"===e.Response?o({type:"SEARCH_MOVIES_SUCCESS",payload:e.Search}):o({type:"SEARCH_MOVIES_FAILURE",error:e.Error})}))},d=(n.nominatedMovies,n.movies),l=n.errorMessage,h=n.loading,v=n.initial;return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(f,{text:"The Shoppies 2021",nominatedMovies:n.nominatedMovies}),Object(u.jsx)("div",{className:"body",children:Object(u.jsxs)("div",{className:"primary-body",children:[v?Object(u.jsx)("div",{className:"homepage",children:Object(u.jsxs)("div",{className:"homepage-search",children:[Object(u.jsx)("h1",{children:"The Shoppies 2021"}),Object(u.jsx)("div",{className:"homepage-splitter"}),Object(u.jsx)("h2",{children:"Presented by Ben Mazerolle and Shopify"}),Object(u.jsx)(y,{search:r})]})}):Object(u.jsx)("div",{className:"search-page",children:Object(u.jsx)(y,{search:r})}),Object(u.jsx)("div",{children:h&&!l?Object(u.jsx)("span",{className:"loading",children:"loading... "}):l?Object(u.jsx)("div",{className:"errorMessage",children:l}):v?Object(u.jsx)(u.Fragment,{}):Object(u.jsx)(N,{initial:n.initial,onNominated:function(e){for(var t=-1,i=0;i<n.nominatedMovies.length;i++)n.nominatedMovies[i].imdbID===e.imdbID&&(t=i);return-1===t?n.nominatedMovies.push(e):n.nominatedMovies.splice(t,1),s.set("nominatedMovies",n.nominatedMovies,{path:"/"}),n.nominatedMovies},movies:d,nominatedMovies:n.nominatedMovies})})]})}),Object(u.jsx)(x,{text:"Ben Mazerolle - 2021"})]})},R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,21)).then((function(t){var n=t.getCLS,i=t.getFID,o=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),i(e),o(e),s(e),a(e)}))};a.a.render(Object(u.jsx)(o.a.StrictMode,{children:Object(u.jsx)(w,{})}),document.getElementById("root")),R()}},[[20,1,2]]]);
//# sourceMappingURL=main.68b2e2bf.chunk.js.map